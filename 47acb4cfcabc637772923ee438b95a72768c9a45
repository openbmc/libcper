{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "fc00f898_6944abef",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2026-01-09T18:44:41Z",
      "side": 1,
      "message": "systemd uses macros that leverage `__attribute__((cleanup(...)))` calls.  Would this be more readable and less error prone?  I\u0027m concerned about how many free-in-return paths this commit introduces.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 37
      },
      "revId": "47acb4cfcabc637772923ee438b95a72768c9a45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7c57b9e_07916759",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2026-01-09T19:16:25Z",
      "side": 1,
      "message": "In general, I agree with you those would be better for scoped variables.  I think some of the issue here is that this buffer is being passed out of the method, so (unless i\u0027m not understanding the proposal) I don\u0027t think setting the cleanup attr would work?",
      "parentUuid": "fc00f898_6944abef",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 37
      },
      "revId": "47acb4cfcabc637772923ee438b95a72768c9a45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ae7d715_3b2d12b4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2026-01-09T19:27:19Z",
      "side": 1,
      "message": "Or are you thinking that we would declare a local desc_string pointer variable in the function, then at the very end null it and move it into the in-out variable?\n\nThat might work.  I\u0027d have to poke at it.",
      "parentUuid": "d7c57b9e_07916759",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 37
      },
      "revId": "47acb4cfcabc637772923ee438b95a72768c9a45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ede6afeb_a4f41fd7",
        "filename": "sections/cper-section-ampere.c",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2026-01-09T19:24:32Z",
      "side": 1,
      "message": "I think you need to split these branches.  If the malloc fails, you don\u0027t need to free it.\n\nSize can also be checked before the calloc so you don\u0027t even malloc if you hit a size failure (similar to previous).",
      "revId": "47acb4cfcabc637772923ee438b95a72768c9a45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4efc6b29_3a05299d",
        "filename": "sections/cper-section-ampere.c",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1002169
      },
      "writtenOn": "2026-01-12T19:22:21Z",
      "side": 1,
      "message": "Calling free() on a null pointer is safe and defined. Do we still want to branch for readability?",
      "parentUuid": "ede6afeb_a4f41fd7",
      "revId": "47acb4cfcabc637772923ee438b95a72768c9a45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51b6d314_52bcd688",
        "filename": "sections/cper-section-ampere.c",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2026-01-12T19:24:18Z",
      "side": 1,
      "message": "\u003e Calling free() on a null pointer is safe and defined. \n\nAgreed, this it not the point.\n\n\u003e Do we still want to branch for readability?\n\nIf you have another suggestion for readability, put it in a patch, but as written, this is less readable than it was because we\u0027re combining conditions.",
      "parentUuid": "4efc6b29_3a05299d",
      "revId": "47acb4cfcabc637772923ee438b95a72768c9a45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b3b06da_d7a775b3",
        "filename": "sections/cper-section-ampere.c",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1002169
      },
      "writtenOn": "2026-01-12T20:35:57Z",
      "side": 1,
      "message": "I see what you mean, there\u0027s no need to free if the size check happens before calloc(). Changed.",
      "parentUuid": "51b6d314_52bcd688",
      "revId": "47acb4cfcabc637772923ee438b95a72768c9a45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "475a044a_9bb695b2",
        "filename": "sections/cper-section-ampere.c",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2026-01-16T17:32:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b3b06da_d7a775b3",
      "revId": "47acb4cfcabc637772923ee438b95a72768c9a45",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}